<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>
    <style type="text/css">
        body{
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family=italic;
        }
        .title{
        position: fixed;
        top:-70px;
        left: 50%;
        font-family=italic;
        }
        .btn-container{
        position: fixed;
        top:-20px;
        left: 40%;
        font-family=italic;

        }
    </style>

</head>
<body>
<section class="menu">
    <div class="title">
        <h2>MENU</h2>
        <div class="underline"></div>
    </div>
    <div class="btn-container">
        <button class="filter-btn" type="button" data-id="all">all</button>
        <button class="filter-btn" type="button" data-id="breakfast">breakfast</button>
        <button class="filter-btn" type="button"  data-id="lunch">lunch</button>
        <button class="filter-btn" type="button"  data-id="shakes">shakes</button>
    </div>
    <div class="section-center">
        <article class="menu-item">
            <img src="./images/item-1.png" class="photo" alt="menu item "/>
            <div class="item-info">
                <header>
                    <h4>buttermilk pancake</h4>
                    <h4 class="price">15$</h4>
                </header>
                <p class="item-text">
                    With a little help from a bag of chickpea flour,
                    you can turn any vegetables in the fridge into an impressive meal.
                </p>
            </div>
        </article>
    </div>
</section>
<script type="text/javascript">
const menu=[
       {
        id:1,
        title:"buttermilk pancakes",
        category:"breakfast",
        price:15.99,
        img:"./images/item-1.png",
        desc:"I'm baby woke mlshk wolf bitters  live-edge blue bottle ,hammock freegan copper mug whatever cold-pressed",
       },
       {
        id:2,
        title:"buttermilk pancakes2",
        category:"lunch",
        price:25,
        img:"./images/item-2.png",
        desc:"I'm baby woke mlshk wolf bitters  live-edge blue bottle ,hammock freegan copper mug whatever cold-pressed",
       },
       {
        id:3,
        title:"buttermilk pancakes3",
        category:"shakes",
        price:20,
        img:"./images/item-3.png",
        desc:"I'm baby woke mlshk wolf bitters  live-edge blue bottle ,hammock freegan copper mug whatever cold-pressed",
       }
       ];
const sectionCenter=document.querySelector(".section-center");
const container=document.querySelector(".btn-container")


window.addEventListener("DOMContentLoaded",function(){
   displayMenuItems(menu);
   displayMenuButtons();
});






function displayMenuItems(menuItems){
let displayMenu=menuItems.map(function (item){
   //console.log(item);
   return `<article class="menu-item">
            <img src=${item.img} class="photo" alt=${item.title}/>
            <div class="item-info">
                <header>
                    <h4>${item.title}</h4>
                    <h4 class="price">${item.title}</h4>
                </header>
                <p class="item-text">
                    ${item.desc}
                </p>
            </div>
        </article>` ;
   });
   displayMenu=displayMenu.join("")
   sectionCenter.innerHTML=displayMenu;

}
function displayMenuButtons(){
 const categories=menu.reduce(
   function(values,item){
   if(!values.includes(item.category)){
   values.push(item.category);
   }
   return values;
   },
   ["all"]
   );
   const categoryBtns=categories.map(function(category){
   return `<button class="filter-btn" type="button" data-id=${category}>${category}</button>`
   })
   .join("");
   container.innerHTML=categoryBtns;
   const filterBtns =document.querySelectorAll('.filter-btn');
   filterBtns.forEach(function(btn){
   btn.addEventListener("click",function(e){
       const category =e.currentTarget.dataset.id;
       const menuCategory=menu.filter(function(menuItem){
       //console.log(menuItemCategory);
          if(menuItem.category === category){
             return menuItem;
          }
       });
       //console.log(menuCategory);
       if(category === "all"){
          displayMenuItems(menu);
       } else {
         displayMenuItems(menuCategory);
       }
   });
});
}
</script>
</body>
</html>